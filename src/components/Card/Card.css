/* Card Component Styles */
/* Theme variables extracted to index.css @theme block */

@keyframes retained-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 var(--color-badge-retained-glow);
  }
  50% {
    box-shadow: 0 0 8px 2px var(--color-badge-retained-glow-bright);
  }
}

@keyframes ethereal-shimmer {
  0%, 100% {
    opacity: 0.8;
  }
  50% {
    opacity: 1;
    filter: brightness(1.2);
  }
}

@keyframes buff-aura-pulse {
  0%, 100% {
    box-shadow:
      0 0 15px var(--color-aura-buff-glow),
      0 0 30px var(--color-aura-buff-glow-outer),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
  50% {
    box-shadow:
      0 0 25px var(--color-aura-buff-glow-peak),
      0 0 50px var(--color-aura-buff-glow-outer-peak),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
}

@keyframes debuff-aura-pulse {
  0%, 100% {
    box-shadow:
      0 0 15px var(--color-aura-debuff-glow),
      0 0 30px var(--color-aura-debuff-glow-outer),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
  50% {
    box-shadow:
      0 0 25px var(--color-aura-debuff-glow-peak),
      0 0 45px var(--color-aura-debuff-glow-outer-peak),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
}

@keyframes mixed-aura-pulse {
  0%, 100% {
    box-shadow:
      0 0 20px var(--color-aura-buff-glow),
      0 0 35px var(--color-aura-buff-glow-outer),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
  50% {
    box-shadow:
      0 0 20px var(--color-aura-debuff-glow),
      0 0 35px var(--color-aura-debuff-glow-outer),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
}

@keyframes burning-aura {
  0% {
    box-shadow:
      0 0 15px var(--color-aura-burning),
      0 5px 20px var(--color-aura-burning-outer),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
  100% {
    box-shadow:
      0 0 25px var(--color-aura-burning-peak),
      0 8px 30px var(--color-aura-burning-peak-outer),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
}

@keyframes charged-aura {
  0% {
    box-shadow:
      0 0 12px var(--color-aura-charged),
      0 0 25px var(--color-aura-charged-outer),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
  100% {
    box-shadow:
      0 0 25px var(--color-aura-charged-peak),
      0 0 50px var(--color-aura-charged-peak-outer),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
}

@keyframes poison-aura {
  0%, 100% {
    box-shadow:
      0 0 12px var(--color-aura-poison),
      0 0 25px var(--color-aura-poison-outer),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
  50% {
    box-shadow:
      0 0 20px var(--color-aura-poison-peak),
      0 0 40px var(--color-aura-poison-peak-outer),
      inset 0 0 0 1px var(--color-aura-inner-border),
      0 4px 16px var(--color-card-shadow-heavy);
  }
}

@keyframes card-shimmer {
  0%, 100% {
    box-shadow:
      0 0 15px var(--color-card-shimmer),
      inset 0 0 20px var(--color-card-shimmer-inner);
  }
  50% {
    box-shadow:
      0 0 20px var(--color-card-shimmer-peak),
      inset 0 0 30px var(--color-card-shimmer-inner-peak);
  }
}

@keyframes playable-pulse {
  0%, 100% {
    box-shadow:
      inset 0 0 10px var(--color-card-playable-pulse-inner),
      0 0 6px var(--color-card-playable-pulse-outer);
  }
  50% {
    box-shadow:
      inset 0 0 15px var(--color-card-playable-pulse-inner-peak),
      0 0 12px var(--color-card-playable-pulse-outer-peak);
  }
}

@keyframes attack-glow {
  0%, 100% {
    box-shadow:
      0 0 15px var(--color-glow-attack),
      0 0 30px var(--color-glow-attack-outer);
  }
  50% {
    box-shadow:
      0 0 25px var(--color-glow-attack-peak),
      0 0 45px var(--color-glow-attack-outer-peak);
  }
}

@keyframes skill-glow {
  0%, 100% {
    box-shadow:
      0 0 15px var(--color-glow-skill),
      0 0 30px var(--color-glow-skill-outer);
  }
  50% {
    box-shadow:
      0 0 25px var(--color-glow-skill-peak),
      0 0 45px var(--color-glow-skill-outer-peak);
  }
}

@keyframes power-glow {
  0%, 100% {
    box-shadow:
      0 0 15px var(--color-glow-power),
      0 0 30px var(--color-glow-power-outer);
  }
  50% {
    box-shadow:
      0 0 25px var(--color-glow-power-peak),
      0 0 45px var(--color-glow-power-outer-peak);
  }
}

@keyframes rare-glow {
  0%, 100% {
    box-shadow:
      0 0 25px var(--color-rarity-rare-glow),
      0 0 50px var(--color-rarity-rare-glow-outer),
      inset 0 1px 0 var(--color-rarity-rare-highlight);
    border-color: var(--color-rarity-rare-border);
  }
  50% {
    box-shadow:
      0 0 35px var(--color-rarity-rare-glow-peak),
      0 0 70px var(--color-rarity-rare-glow-outer-peak),
      inset 0 1px 0 var(--color-rarity-rare-highlight-peak);
    border-color: var(--color-rarity-rare-border-peak);
  }
}

@keyframes uncommon-glow {
  0%, 100% {
    box-shadow:
      0 0 20px var(--color-rarity-uncommon-glow),
      0 0 40px var(--color-rarity-uncommon-glow-outer),
      inset 0 1px 0 var(--color-rarity-uncommon-highlight);
    border-color: var(--color-rarity-uncommon-border);
  }
  50% {
    box-shadow:
      0 0 28px var(--color-rarity-uncommon-glow-peak),
      0 0 55px var(--color-rarity-uncommon-glow-outer-peak),
      inset 0 1px 0 var(--color-rarity-uncommon-highlight-peak);
    border-color: var(--color-rarity-uncommon-border-peak);
  }
}

@keyframes ultra-rare-glow {
  0%, 100% {
    box-shadow:
      0 0 30px var(--color-rarity-ultra-glow),
      0 0 60px var(--color-rarity-ultra-glow-outer),
      0 0 90px var(--color-rarity-ultra-glow-far),
      inset 0 1px 0 var(--color-rarity-ultra-highlight);
    border-color: var(--color-rarity-ultra-border);
  }
  50% {
    box-shadow:
      0 0 40px var(--color-rarity-ultra-glow-peak),
      0 0 80px var(--color-rarity-ultra-glow-outer-peak),
      0 0 110px var(--color-rarity-ultra-glow-far-peak),
      inset 0 1px 0 var(--color-rarity-ultra-highlight-peak);
    border-color: var(--color-rarity-ultra-border-peak);
  }
}

@keyframes ultra-rare-shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes legendary-glow {
  0%, 100% {
    box-shadow:
      0 0 40px var(--color-rarity-legendary-glow-1),
      0 0 80px var(--color-rarity-legendary-outer-1);
    border-color: var(--color-rarity-legendary-border-1);
  }
  33% {
    box-shadow:
      0 0 40px var(--color-rarity-legendary-glow-2),
      0 0 80px var(--color-rarity-legendary-outer-2);
    border-color: var(--color-rarity-legendary-border-2);
  }
  66% {
    box-shadow:
      0 0 40px var(--color-rarity-legendary-glow-3),
      0 0 80px var(--color-rarity-legendary-outer-3);
    border-color: var(--color-rarity-legendary-border-3);
  }
}

@keyframes legendary-holographic {
  0% { background-position: 0% 0%; filter: hue-rotate(0deg); }
  50% { background-position: 100% 100%; filter: hue-rotate(30deg); }
  100% { background-position: 0% 0%; filter: hue-rotate(0deg); }
}

@keyframes damage-flash {
  0% { opacity: 0.6; }
  100% { opacity: 0; }
}

@keyframes block-gain {
  0% {
    transform: scale(1.2);
    box-shadow: 0 0 30px var(--color-flash-block-glow);
  }
  100% {
    transform: scale(1);
    box-shadow: none;
  }
}

@keyframes heal-glow {
  0% {
    box-shadow:
      0 0 30px var(--color-flash-heal),
      inset 0 0 20px var(--color-flash-heal-inner);
  }
  100% {
    box-shadow: none;
  }
}


@keyframes epic-glow {
  0%, 100% {
    box-shadow:
      0 0 15px var(--color-rarity-epic-glow),
      0 0 30px var(--color-rarity-epic-glow-outer),
      inset 0 0 10px var(--color-rarity-epic-glow-inner);
    border-color: var(--color-rarity-epic-border);
  }
  50% {
    box-shadow:
      0 0 25px var(--color-rarity-epic-glow-peak),
      0 0 50px var(--color-rarity-epic-glow-outer-peak),
      inset 0 0 15px var(--color-rarity-epic-glow-inner-peak);
    border-color: var(--color-rarity-epic-border-peak);
  }
}

@keyframes epic-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@keyframes gem-pulse {
  0%, 100% { transform: translateX(-50%) scale(1); }
  50% { transform: translateX(-50%) scale(1.15); }
}

.Card__cost {
  font-family: var(--font-ui);
  font-weight: 700;
}

.Card {
  --card-width: 180px;
  --card-height: 252px;

  width: var(--card-width);
  height: var(--card-height);
  border-radius: 8px;
  background: var(--color-surface-raised);
  border: 2px solid var(--color-border);
  overflow: visible;
  cursor: pointer;
  user-select: none;
  position: relative;

  /* Gothic frame effect */
  box-shadow:
    inset 0 0 0 1px var(--color-card-frame-inner),
    0 4px 12px var(--color-card-shadow-heavy),
    0 1px 3px var(--color-card-shadow-light);

  /* Subtle inner glow */
  &::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 6px;
    pointer-events: none;
    z-index: 5;
    box-shadow: inset 0 1px 0 var(--color-card-highlight);
  }
}

.Card:hover {
  box-shadow:
    inset 0 0 0 1px var(--color-card-frame-hover),
    0 8px 24px var(--color-card-shadow-drag),
    0 2px 6px var(--color-card-shadow-heavy),
    0 0 20px var(--color-card-hover-glow);
}

.Card__image {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center top;
  z-index: 0;
  border-radius: 6px;
}

.Card__image-fallback {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background:
    radial-gradient(ellipse at 50% 0%, var(--color-card-fallback-center) 0%, transparent 60%),
    linear-gradient(180deg, var(--color-card-fallback-from) 0%, var(--color-card-fallback-to) 100%);
  z-index: 0;
  border-radius: 6px;
}

.Card__gradient-overlay {
  position: absolute;
  inset: 0;
  background:
    linear-gradient(
      to top,
      var(--color-card-overlay-dark) 0%,
      var(--color-card-overlay-mid) 20%,
      var(--color-card-overlay-light) 45%,
      transparent 65%
    ),
    radial-gradient(
      ellipse 150% 50% at 50% 100%,
      var(--color-card-overlay-vignette) 0%,
      transparent 70%
    );
  z-index: 1;
  pointer-events: none;
  border-radius: 6px;
}

.Card__info {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 0.5rem 0.625rem;
  z-index: 2;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.Card__name-bar {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.3rem 0.5rem;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--color-card-namebar-edge) 8%,
    var(--color-card-namebar-center) 50%,
    var(--color-card-namebar-edge) 92%,
    transparent 100%
  );
  border-top: 1px solid var(--color-card-namebar-border-top);
  border-bottom: 1px solid var(--color-card-namebar-border-bottom);
  position: relative;
}

.Card__name-bar::before,

.Card__name-bar::after {
  content: "â—†";
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 0.5rem;
  color: var(--color-filigree);
  opacity: 0.5;
}

.Card__name-bar::before { left: 0.25rem; }

.Card__name-bar::after { right: 0.25rem; }

.Card__energy-badge {
  position: absolute;
  top: 0.5rem;
  left: 0.5rem;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  font-family: var(--font-display);
  font-size: 0.9rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  background: linear-gradient(
    135deg,
    var(--color-energy-badge-from) 0%,
    var(--color-energy-badge-mid) 50%,
    var(--color-energy-badge-to) 100%
  );
  color: var(--color-energy-badge-text);
  border: 2px solid var(--color-energy-badge-border);
  box-shadow:
    0 2px 6px var(--color-card-shadow-heavy),
    inset 0 1px 0 var(--color-energy-badge-highlight),
    0 0 12px var(--color-energy-badge-glow);
  text-shadow: 0 1px 1px var(--color-energy-badge-highlight);
}

.Card__energy-badge--modified {
  background: linear-gradient(135deg, var(--color-energy-modified-from) 0%, var(--color-energy-modified-to) 100%);
  border-color: var(--color-energy-modified-border);
  box-shadow:
    0 2px 6px var(--color-card-shadow-heavy),
    0 0 12px var(--color-energy-modified-glow);
}

.Card__energy-badge--fire {
  background: linear-gradient(135deg, var(--color-energy-fire-from) 0%, var(--color-energy-fire-to) 100%);
  border-color: var(--color-energy-fire-border);
  color: var(--color-energy-fire-text);
}

.Card__energy-badge--ice {
  background: linear-gradient(135deg, var(--color-energy-ice-from) 0%, var(--color-energy-ice-to) 100%);
  border-color: var(--color-energy-ice-border);
  color: var(--color-energy-ice-text);
}

.Card__energy-badge--lightning {
  background: linear-gradient(135deg, var(--color-energy-lightning-from) 0%, var(--color-energy-lightning-to) 100%);
  border-color: var(--color-energy-lightning-border);
  color: var(--color-energy-lightning-text);
}

.Card__energy-badge--void {
  background: linear-gradient(135deg, var(--color-energy-void-from) 0%, var(--color-energy-void-to) 100%);
  border-color: var(--color-energy-void-border);
  color: var(--color-energy-void-text);
}

.Card__energy-badge--physical {
  background: linear-gradient(135deg, var(--color-energy-physical-from) 0%, var(--color-energy-physical-to) 100%);
  border-color: var(--color-energy-physical-border);
  color: var(--color-energy-physical-text);
}

.Card__status-badge {
  width: 1.375rem;
  height: 1.375rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 4px var(--color-badge-shadow);
}

.Card__status-badge--ethereal {
  background: linear-gradient(135deg, var(--color-badge-ethereal-from) 0%, var(--color-badge-ethereal-to) 100%);
  border: 1.5px solid var(--color-badge-ethereal-border);
  color: var(--color-badge-ethereal-icon);
}

.Card__status-badge--retained {
  background: linear-gradient(135deg, var(--color-badge-retained-from) 0%, var(--color-badge-retained-to) 100%);
  border: 1.5px solid var(--color-badge-retained-border);
  color: var(--color-badge-retained-icon);
}

.Card--attack { border-color: var(--color-card-attack); }

.Card--skill { border-color: var(--color-card-skill); }

.Card [title*="Retained"] {
  animation: retained-pulse 2s ease-in-out infinite;
}

.Card [title*="Ethereal"] {
  animation: ethereal-shimmer 2.5s ease-in-out infinite;
}

.Card--power {
  border-color: var(--color-card-power);
  background: linear-gradient(
    135deg,
    var(--color-card-power-bg-light) 0%,
    var(--color-surface) 50%,
    var(--color-card-power-bg-dark) 100%
  );
  box-shadow:
    0 0 8px var(--color-card-power-glow),
    inset 0 1px 0 var(--color-card-power-highlight);
}

.Card--power::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--color-card-power-accent) 50%,
    transparent 100%
  );
  border-radius: 12px 12px 0 0;
}

.Card--upgraded {
  border-color: var(--color-card-upgraded-border);
  box-shadow:
    0 0 12px var(--color-card-upgraded-glow-outer),
    inset 0 0 20px var(--color-card-upgraded-glow-inner);
}

.Card--upgraded::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    135deg,
    var(--color-card-upgraded-gradient) 0%,
    transparent 50%
  );
  pointer-events: none;
}

.Card--hand.is-playable {
  box-shadow:
    inset 0 0 12px var(--color-card-playable-inner),
    0 0 8px var(--color-card-playable-outer);
}

.Card.is-dragging {
  z-index: 100;
  transform: scale(1.05);
  box-shadow: 0 12px 48px var(--color-card-shadow-drag);
}

.Card.is-disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.Card--player,

.Card--enemy {
  --card-width: 200px;
  --card-height: 280px;
}

.Card--room {
  --card-width: 220px;
  --card-height: 140px;
}

.Card--player.has-buffs,

.Card--enemy.has-buffs {
  animation: buff-aura-pulse 2s ease-in-out infinite;
}

.Card--player.has-debuffs,

.Card--enemy.has-debuffs {
  animation: debuff-aura-pulse 1.5s ease-in-out infinite;
}

.Card--player.has-buffs.has-debuffs,

.Card--enemy.has-buffs.has-debuffs {
  animation: mixed-aura-pulse 3s ease-in-out infinite;
}

.Card.has-burning {
  animation: burning-aura 0.8s ease-in-out infinite alternate;
}

.Card.has-frozen {
  box-shadow:
    0 0 20px var(--color-aura-frozen),
    0 0 40px var(--color-aura-frozen-outer),
    inset 0 0 0 1px var(--color-aura-inner-border),
    0 4px 16px var(--color-card-shadow-heavy);
}

.Card.has-charged {
  animation: charged-aura 0.3s ease-in-out infinite alternate;
}

.Card.has-poison {
  animation: poison-aura 2s ease-in-out infinite;
}

.Card--player,

.Card--enemy {
  animation: card-shimmer 4s ease-in-out infinite;
}

.Card--hand.is-playable {
  animation: playable-pulse 2s ease-in-out infinite;
}

.Card--hand.Card--attack:not(.is-playable):not(.is-disabled) {
  animation: attack-glow 3s ease-in-out infinite;
}

.Card--hand.Card--skill:not(.is-playable):not(.is-disabled) {
  animation: skill-glow 3s ease-in-out infinite;
}

.Card--hand.Card--power:not(.is-playable):not(.is-disabled) {
  animation: power-glow 3s ease-in-out infinite;
}

.Card.Card--rare {
  animation: rare-glow 2s ease-in-out infinite !important;
}

.Card.Card--uncommon {
  animation: uncommon-glow 2.5s ease-in-out infinite;
}

.Card.Card--common {
  border-color: var(--rarity-common);
  background: linear-gradient(
    180deg,
    var(--color-card-common-bg-from) 0%,
    var(--color-card-common-bg-to) 100%
  );
  box-shadow: inset 0 1px 0 var(--color-card-common-highlight);
}

.Card.Card--ultra-rare {
  animation: ultra-rare-glow 1.8s ease-in-out infinite;
  position: relative;
}

.Card.Card--ultra-rare::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    105deg,
    transparent 40%,
    var(--color-rarity-ultra-shimmer) 45%,
    var(--color-rarity-ultra-shimmer-peak) 50%,
    var(--color-rarity-ultra-shimmer) 55%,
    transparent 60%
  );
  background-size: 200% 100%;
  animation: ultra-rare-shimmer 3s linear infinite;
  pointer-events: none;
  z-index: 1;
}

.Card--element-physical { --element-hue: 250; }

.Card--element-fire { --element-hue: 35; }

.Card--element-ice { --element-hue: 220; }

.Card--element-lightning { --element-hue: 95; }

.Card--element-void { --element-hue: 310; }

.Card.Card--common.Card--element-fire,

.Card.Card--uncommon.Card--element-fire { border-color: var(--color-element-fire); }

.Card.Card--common.Card--element-ice,

.Card.Card--uncommon.Card--element-ice { border-color: var(--color-element-ice); }

.Card.Card--common.Card--element-lightning,

.Card.Card--uncommon.Card--element-lightning { border-color: var(--color-element-lightning); }

.Card.Card--common.Card--element-void,

.Card.Card--uncommon.Card--element-void { border-color: var(--color-element-void); }

.Card.Card--common.Card--element-physical,

.Card.Card--uncommon.Card--element-physical { border-color: var(--color-element-physical); }

.Card__element-emblem {
  width: 1.5rem;
  height: 1.5rem;
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow:
    0 1px 4px var(--color-emblem-shadow),
    inset 0 1px 0 var(--color-emblem-highlight);
  flex-shrink: 0;
}

.Card--hand .Card__element-emblem-wrapper {
  position: absolute;
  top: 0.375rem;
  right: 0.375rem;
  z-index: 10;
}

.Card--hand .Card__element-emblem {
  width: 1.75rem;
  height: 1.75rem;
}

.Card__element-emblem--physical {
  background: linear-gradient(135deg, var(--color-element-physical-muted) 0%, var(--color-emblem-physical-to) 100%);
  border: 1.5px solid var(--color-element-physical);
}

.Card__element-emblem--fire {
  background: linear-gradient(135deg, var(--color-element-fire-muted) 0%, var(--color-emblem-fire-to) 100%);
  border: 1.5px solid var(--color-element-fire);
}

.Card__element-emblem--ice {
  background: linear-gradient(135deg, var(--color-element-ice-muted) 0%, var(--color-emblem-ice-to) 100%);
  border: 1.5px solid var(--color-element-ice);
}

.Card__element-emblem--lightning {
  background: linear-gradient(135deg, var(--color-element-lightning-muted) 0%, var(--color-emblem-lightning-to) 100%);
  border: 1.5px solid var(--color-element-lightning);
}

.Card__element-emblem--void {
  background: linear-gradient(135deg, var(--color-element-void-muted) 0%, var(--color-emblem-void-to) 100%);
  border: 1.5px solid var(--color-element-void);
}

.Card.Card--legendary {
  animation: legendary-glow 4s linear infinite;
  border-width: 3px;
}

.Card.Card--legendary::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    135deg,
    var(--color-rarity-legendary-holographic) 0%,
    var(--color-rarity-legendary-holo-mid) 25%,
    var(--color-rarity-legendary-holo-center) 50%,
    var(--color-rarity-legendary-holo-end) 75%,
    var(--color-rarity-legendary-holographic) 100%
  );
  background-size: 200% 200%;
  animation: legendary-holographic 6s ease-in-out infinite;
  pointer-events: none;
  mix-blend-mode: overlay;
  z-index: 1;
}

.Card.Card--mythic {
  animation: legendary-glow 3s linear infinite, mythic-pulse 2s ease-in-out infinite;
  border-width: 4px;
}

.Card.Card--mythic::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    115deg,
    transparent 30%,
    var(--color-rarity-mythic-shimmer-mid) 45%,
    var(--color-rarity-mythic-shimmer-center) 50%,
    var(--color-rarity-mythic-shimmer-end) 55%,
    transparent 70%
  );
  background-size: 200% 100%;
  animation: ultra-rare-shimmer 2s linear infinite;
  pointer-events: none;
  z-index: 1;
}

.Card.Card--mythic::after {
  animation: legendary-holographic 4s ease-in-out infinite;
}

.Card.Card--ancient {
  background:
    radial-gradient(ellipse at 30% 20%, var(--color-rarity-ancient-bg-spot1) 0%, transparent 50%),
    radial-gradient(ellipse at 70% 80%, var(--color-rarity-ancient-bg-spot2) 0%, transparent 40%),
    var(--color-rarity-ancient-bg-base);
  border: 4px solid transparent;
  animation:
    legendary-glow 2.5s linear infinite,
    ancient-warp 8s ease-in-out infinite,
    ancient-glow 3s ease-in-out infinite;
}

.Card.Card--ancient::after {
  animation: legendary-holographic 3s ease-in-out infinite;
  mix-blend-mode: screen;
}

.Card--mythic [class*="text-"],

.Card--ancient [class*="text-"] {
  text-shadow:
    0 1px 2px var(--color-rarity-text-shadow),
    0 0 8px var(--color-rarity-text-shadow-soft);
  position: relative;
  z-index: 2;
}

.Card.is-damaged::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle, var(--color-flash-damage), transparent 70%);
  pointer-events: none;
  animation: damage-flash 0.3s ease-out forwards;
}

.Card.is-blocking::before {
  content: '';
  position: absolute;
  inset: -4px;
  border: 3px solid var(--color-flash-block-border);
  border-radius: 16px;
  animation: block-gain 0.4s ease-out forwards;
  pointer-events: none;
}

.Card.is-healing {
  animation: heal-glow 0.5s ease-out forwards;
}

.Card--room {
  background:
    linear-gradient(135deg, var(--color-room-bg-from) 0%, var(--color-room-bg-mid) 50%, var(--color-room-bg-to) 100%);
  border: 2px solid var(--color-room-border);
  box-shadow:
    0 4px 16px var(--color-card-shadow-light),
    inset 0 1px 0 var(--color-room-highlight);
}

.Card--room:hover {
  border-color: var(--color-accent-warm);
  box-shadow:
    0 8px 24px var(--color-room-hover-glow),
    0 0 30px var(--color-room-hover-glow-soft),
    inset 0 1px 0 var(--color-room-hover-highlight);
}

.Card__name {
  font-family: var(--font-display);
  font-weight: 600;
  font-size: 0.8rem;
  letter-spacing: 0.04em;
  color: var(--color-card-name);
  text-shadow:
    0 1px 2px var(--color-rarity-text-shadow),
    0 0 10px var(--color-card-name-shadow);
  text-align: center;
}

.Card__cost {
  font-family: var(--font-display);
  font-weight: 700;
  text-shadow:
    0 1px 2px var(--color-card-shadow-drag),
    0 0 8px var(--color-energy-badge-glow);
}

.Card__description {
  font-family: var(--font-body);
  font-size: 0.68rem;
  line-height: 1.3;
  color: var(--color-card-description);
  text-align: center;
  text-shadow: 0 1px 2px var(--color-rarity-text-shadow);
}

.Card--upgraded .Card__name {
  color: var(--color-card-upgraded-name);
  text-shadow:
    0 0 8px var(--color-card-upgraded-glow),
    0 1px 2px var(--color-card-shadow-heavy);
}

.Card__type-strip {
  font-family: var(--font-display);
  font-size: 0.6rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--color-card-type);
}

.CardRewardGrid {
  display: flex;
  gap: 1.5rem;
  justify-content: center;
  flex-wrap: wrap;
}

.Card.Card--epic {
  animation: epic-glow 2.5s ease-in-out infinite;
  border-width: 2px;
  position: relative;
}

.Card.Card--epic::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--color-rarity-epic-shimmer) 25%,
    var(--color-rarity-epic-shimmer-peak) 50%,
    var(--color-rarity-epic-shimmer) 75%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: epic-shimmer 4s linear infinite;
  pointer-events: none;
  border-radius: inherit;
  z-index: 1;
}

.Card.Card--epic .Card__name {
  color: var(--color-rarity-epic-name);
  text-shadow:
    0 0 10px var(--color-rarity-epic-name-glow),
    0 1px 2px var(--color-rarity-text-shadow);
}

.Card__rarity-gem {
  position: absolute;
  bottom: 4px;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 8px;
  border-radius: 50%;
  z-index: 15;
  box-shadow: 0 0 6px currentColor;
}

.Card--common .Card__rarity-gem { background: var(--color-gem-common); }

.Card--uncommon .Card__rarity-gem { background: var(--color-gem-uncommon); box-shadow: 0 0 8px var(--color-gem-uncommon-glow); }

.Card--rare .Card__rarity-gem { background: var(--color-gem-rare); box-shadow: 0 0 10px var(--color-gem-rare-glow); }

.Card--epic .Card__rarity-gem { background: var(--color-gem-epic); box-shadow: 0 0 12px var(--color-gem-epic-glow); }

.Card--legendary .Card__rarity-gem {
  background: linear-gradient(135deg, var(--color-gem-legendary-from) 0%, var(--color-gem-legendary-to) 100%);
  box-shadow: 0 0 14px var(--color-gem-legendary-glow);
  animation: gem-pulse 1.5s ease-in-out infinite;
}

.Card--mythic .Card__rarity-gem {
  background: linear-gradient(135deg, var(--color-gem-mythic-from) 0%, var(--color-gem-mythic-to) 100%);
  box-shadow: 0 0 16px var(--color-gem-mythic-glow);
  animation: gem-pulse 1.2s ease-in-out infinite;
}

.Card--ancient .Card__rarity-gem {
  background: linear-gradient(135deg, var(--color-gem-ancient-from) 0%, var(--color-gem-ancient-to) 100%);
  box-shadow: 0 0 20px var(--color-gem-ancient-glow);
  animation: gem-pulse 1s ease-in-out infinite, ancient-gem-hue 4s linear infinite;
}
